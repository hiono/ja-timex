# ja-timex

自然言語で書かれた時間情報表現を抽出/規格化するルールベースの解析器

## 概要
`ja-timex` は、現代日本語で書かれた自然文に含まれる時間情報表現を抽出し`TIMEX3`と呼ばれるアノテーション仕様に変換することで、プログラムが利用できるような形に規格化するルールベースの解析機です。

## インストール
TBW

## 使い方
TBW

## `TIMEX3`について

`TIMEX3`は「現代日本語書き言葉均衡コーパス」(BCCWJ)における時間情報をアノテーションする際に定義されたタグ付け基準です[1]。この仕様をベースに、数量および時間表現を抽出する[`normalizeNumexp`](https://www.cl.ecei.tohoku.ac.jp/Open_Resources-normalizeNumexp.html)にて実装されています[2]。

`TIMEX3`タグ付けは、以下のように行われます。

```html
 <TIMEX3 tid="t1" type="DATE" value="2021-07-18" valueFromSurface="2021-07-18">2021年07月18日</TIMEX3>
 <TIMEX3 tid="t2" type="DATE"value="2021-W28-7" valueFromSurface="XXXX-WXX-7">日曜日</TIMEX3>
```

`TIMEX3`タグは以下の属性を持ちます。


| 属性名            | 内容                                                   | 例           | 条件             |
| ----------------- | ------------------------------------------------------ | ------------ | ---------------- |
| @tid              | 入力文中に一意に付与される識別子                       | `t1`         | 必須             |
| @type             | 表現の分類。DATE, TIME, DURATION, SETの値を取る。      | `DATE`       | 必須             |
| @value            | 時間情報表現が含意する値で、文脈による正規化を行う     | `2021-07-18` | 必須             |
| @valueFromSurface | 時間情報表現が含意する値で、文脈による正規化を行わない | `XXXX-07-18` | 必須             |
| @freq             | 頻度集合表現における頻度                               | `2X`         | 頻度集合表現のみ |
| @quant            | 頻度集合表現における期間                               | `P1W`        | 頻度集合表現のみ |
| @mod              | 時間情報表現の補足情報としてのモダリティ               | `APPROX`     | 任意             |


### 参考仕様
本パッケージは、以下の論文で提案されている`TIMEX3`の仕様を参考に実装しています。

- [1] [小西光, 浅原正幸, & 前川喜久雄. (2013). 『現代日本語書き言葉均衡コーパス』 に対する時間情報アノテーション. 自然言語処理, 20(2), 201-221.](https://www.jstage.jst.go.jp/article/jnlp/20/2/20_201/_article/-char/ja/)
- [2] [成澤克麻 (2014)「自然言語処理における数量表現の取り扱い」東北大学大学院 修士論文](http://www.cl.ecei.tohoku.ac.jp/publications/2015/mthesis2013_narisawa_submitted.pdf)

### 実装方針
`ja-timex`は以下の実装方針を採用しています。

- 言語表現の網羅性ではなく、実用的な表現抽出を
  - 人間が発話/認識する時間情報の表現は豊富で、すべての事象を正確に規格化することは不可能です。あくまでルールで規定できる時間情報表現に限定し、実用的な表現を抽出し利用することを重視しています。
- 曖昧さを許容する抽象化より、利用できる形での規格化を
  - 人間が記述する時間情報表現の多くは、文脈を考慮しなければ日付や時刻を一意に特定することが不可能です。そうした曖昧性を残したまま規格化するのではなく、統一した作法で規格化し利用しやすくすることを重視します。